!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";e.exports=n(1)},function(e,t,n){"use strict";
/** @license React v16.8.3
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2),o="function"==typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,c=o?Symbol.for("react.fragment"):60107,s=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,f=o?Symbol.for("react.context"):60110,p=o?Symbol.for("react.concurrent_mode"):60111,m=o?Symbol.for("react.forward_ref"):60112,d=o?Symbol.for("react.suspense"):60113,y=o?Symbol.for("react.memo"):60115,h=o?Symbol.for("react.lazy"):60116,b="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,o,a,i,c){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,a,i,c],u=0;(e=Error(t.replace(/%s/g,(function(){return s[u++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k={};function E(e,t,n){this.props=e,this.context=t,this.refs=k,this.updater=n||g}function w(){}function S(e,t,n){this.props=e,this.context=t,this.refs=k,this.updater=n||g}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&v("85"),this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=E.prototype;var O=S.prototype=new w;O.constructor=S,r(O,E.prototype),O.isPureReactComponent=!0;var _={current:null},j={current:null},P=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var r=void 0,o={},i=null,c=null;if(null!=t)for(r in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(i=""+t.key),t)P.call(t,r)&&!C.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:a,type:e,key:i,ref:c,props:o,_owner:j.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var $=/\/+/g,x=[];function I(e,t,n,r){if(x.length){var o=x.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>x.length&&x.push(e)}function D(e,t,n){return null==e?0:function e(t,n,r,o){var c=typeof t;"undefined"!==c&&"boolean"!==c||(t=null);var s=!1;if(null===t)s=!0;else switch(c){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case a:case i:s=!0}}if(s)return r(o,t,""===n?"."+R(t,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var l=n+R(c=t[u],u);s+=e(c,l,r,o)}else if(null===t||"object"!=typeof t?l=null:l="function"==typeof(l=b&&t[b]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),u=0;!(c=t.next()).done;)s+=e(c=c.value,l=n+R(c,u++),r,o);else"object"===c&&v("31","[object Object]"===(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return s}(e,"",t,n)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function U(e,t){e.func.call(e.context,t,e.count++)}function M(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,(function(e){return e})):null!=e&&(T(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace($,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,o){var a="";null!=n&&(a=(""+n).replace($,"$&/")+"/"),D(e,M,t=I(t,a,r,o)),A(t)}function G(){var e=_.current;return null===e&&v("307"),e}var z={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,U,t=I(null,null,t,n)),A(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){return T(e)||v("143"),e}},createRef:function(){return{current:null}},Component:E,PureComponent:S,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:m,render:e}},lazy:function(e){return{$$typeof:h,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:y,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return G().useCallback(e,t)},useContext:function(e,t){return G().useContext(e,t)},useEffect:function(e,t){return G().useEffect(e,t)},useImperativeHandle:function(e,t,n){return G().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return G().useLayoutEffect(e,t)},useMemo:function(e,t){return G().useMemo(e,t)},useReducer:function(e,t,n){return G().useReducer(e,t,n)},useRef:function(e){return G().useRef(e)},useState:function(e){return G().useState(e)},Fragment:c,StrictMode:s,Suspense:d,createElement:N,cloneElement:function(e,t,n){null==e&&v("267",e);var o=void 0,i=r({},e.props),c=e.key,s=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,u=j.current),void 0!==t.key&&(c=""+t.key);var l=void 0;for(o in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)P.call(t,o)&&!C.hasOwnProperty(o)&&(i[o]=void 0===t[o]&&void 0!==l?l[o]:t[o])}if(1===(o=arguments.length-2))i.children=n;else if(1<o){l=Array(o);for(var f=0;f<o;f++)l[f]=arguments[f+2];i.children=l}return{$$typeof:a,type:e.type,key:c,ref:s,props:i,_owner:u}},createFactory:function(e){var t=N.bind(null,e);return t.type=e,t},isValidElement:T,version:"16.8.3",unstable_ConcurrentMode:p,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:_,ReactCurrentOwner:j,assign:r}},V={default:z},L=V&&z||V;e.exports=L.default||L},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,c,s=i(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))o.call(n,l)&&(s[l]=n[l]);if(r){c=r(n);for(var f=0;f<c.length;f++)a.call(n,c[f])&&(s[c[f]]=n[c[f]])}}return s}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,s(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=getTaskIconClass(this.props.task.completed,this.props.task.dueDate),t=this;return o.a.createElement("div",{className:"item"},o.a.createElement("i",{className:"large ".concat(e," middle aligned icon"),onClick:function(){t.props.task.patchAction({completed:!t.props.task.completed})}}),o.a.createElement("div",{className:"content",onClick:this.props.task.viewAction},o.a.createElement("div",{className:"header"},this.props.task.title),o.a.createElement("div",{className:"description"},o.a.createElement("pre",{style:{margin:"0"}},this.props.task.description))))}}])&&i(n.prototype,r),a&&i(n,a),t}(r.Component);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,d(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){if(1===this.props.pages)return o.a.createElement(r.Fragment,null);var e=o.a.createElement(r.Fragment,null),t=o.a.createElement(r.Fragment,null);return this.props.pages!==this.props.current&&(e=o.a.createElement("button",{class:"ui right floated circular small icon button",onClick:this.props.nextCallback},o.a.createElement("i",{class:"angle right fitted icon"}))),this.props.current>1&&(t=o.a.createElement("button",{className:"ui circular small icon button",onClick:this.props.prevCallback},o.a.createElement("i",{className:"angle left fitted icon"}))),o.a.createElement("div",{className:"ui centered grid"},o.a.createElement("div",{className:"three wide column"},t),o.a.createElement("div",{className:"four wide center aligned column"},"".concat(this.props.current," of ").concat(this.props.pages)),o.a.createElement("div",{className:"three wide column"},e))}}])&&p(n.prototype,a),i&&p(n,i),t}(r.Component);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.Component;function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),O(this,_(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;$("#".concat(this.props.id)).modal({allowMultiple:!1,detachable:!1,onHidden:function(){void 0!==e.props.onClosedCallback&&e.props.onClosedCallback()},onShow:function(){void 0!==e.props.onOpeningCallback&&e.props.onOpeningCallback()}})}},{key:"render",value:function(){var e;return void 0!==this.props.title&&(e=o.a.createElement("div",{className:"header"},this.props.title)),ReactDOM.createPortal(o.a.createElement("div",{className:"ui ".concat(this.props.modalType," modal"),style:{position:"absolute"},id:this.props.id},e,o.a.createElement("div",{className:"".concat(this.props.contentType," content")},this.props.children)),document.getElementById("modals"))}}])&&S(n.prototype,r),a&&S(n,a),t}(r.Component);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=T(t).call(this,e))||"object"!==C(o)&&"function"!=typeof o?x(r):o).state={title:"",description:"",duedate:(new Date).toISOString().substring(0,16),category:"",formTitle:"",buttonText:""},n.handleSubmit=n.handleSubmit.bind(x(n)),n.handleUserInput=n.handleUserInput.bind(x(n)),n.handleInit=n.handleInit.bind(x(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){$("#createtaskform").form({fields:{title:{identifier:"title",rules:[{type:"empty",prompt:"You must provide a title for the task"},{type:"maxLength[70]",prompt:"Title cannot be larger than 70 characters"}]}},onSuccess:function(e,t){e.preventDefault()}})}},{key:"handleUserInput",value:function(e){var t=e.target.name,n=e.target.value;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this;$("#createtaskform").form("is valid")&&("create"===this.props.mode?$.ajax({type:"POST",url:"/api/v1/tasks",headers:{Authorization:"Bearer "+this.props.token,Accept:"application/json"},contentType:"application/json",data:JSON.stringify({title:t.state.title,dueDate:t.state.duedate,description:t.state.description,category:t.state.category,updates:[]}),error:function(e){},success:function(e){setTimeout((function(){t.props.getTasks(),$("#createtaskmodal").modal("hide")}),300)}}):"edit"===this.props.mode&&(this.props.patchTask({title:this.state.title,description:this.state.description,dueDate:this.state.duedate,category:this.state.category},this.props.task),setTimeout((function(){$("#createtaskmodal").modal("hide")}),300)))}},{key:"handleInit",value:function(){"create"===this.props.mode?($("#cretaskdisplayerrors").empty(),$("#createtaskform").form("clear"),this.setState({formTitle:"Create task",title:"",description:"",dueDate:(new Date).toISOString().substring(0,16),category:"",buttonText:"Create"})):"edit"===this.props.mode&&this.setState({formTitle:"Edit task "+this.props.task.id,title:this.props.task.title,description:this.props.task.description,dueDate:new Date(this.props.task.dueDate).toISOString().substring(0,16),category:this.props.task.category,buttonText:"Edit"})}},{key:"render",value:function(){var e=this;return o.a.createElement(P,{id:"createtaskmodal",onOpeningCallback:this.handleInit},o.a.createElement("form",{className:"ui small form",id:"createtaskform",onSubmit:this.handleSubmit},o.a.createElement("h4",{className:"ui dividing header"},this.state.formTitle),o.a.createElement("div",{className:"field"},o.a.createElement("label",null,"Title"),o.a.createElement("input",{type:"text",name:"title",maxLength:70,value:this.state.title,onChange:function(t){return e.handleUserInput(t)}})),o.a.createElement("div",{className:"field"},o.a.createElement("label",null,"Description"),o.a.createElement("textarea",{rows:"2",name:"description",value:this.state.description,onChange:function(t){return e.handleUserInput(t)}})),o.a.createElement("div",{className:"two fields"},o.a.createElement("div",{className:"field"},o.a.createElement("label",null,"Due date"),o.a.createElement("input",{type:"datetime-local",name:"duedate",value:this.state.duedate,onChange:function(t){return e.handleUserInput(t)}})),o.a.createElement("div",{className:"field"},o.a.createElement("label",null,"Tags"),o.a.createElement("input",{type:"text",name:"",value:"",onChange:""}))),o.a.createElement("div",{className:"ui error message",id:"cretaskdisplayerrors"}),o.a.createElement("button",{className:"ui small blue fluid button",type:"submit"},this.state.buttonText)))}}])&&N(n.prototype,r),a&&N(n,a),t}(r.Component);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),U(this,M(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){if(void 0===this.props.task)return o.a.createElement(r.Fragment,null);var e=this,t=dateDiffFormat(new Date,new Date(this.props.task.creationDate))+" ago",n=formatDate(this.props.task.dueDate);return o.a.createElement(P,{id:"taskmodal",modalType:"basic"},o.a.createElement("div",{className:"ui fluid card"},o.a.createElement("div",{className:"content"},o.a.createElement("i",{class:"right floated trash alternate outline grey icon"}),o.a.createElement("i",{class:"right floated edit outline grey icon",onClick:function(){e.props.parentStateCallback({mode:"edit"},(function(){$("#createtaskmodal").modal("show")}))}}),o.a.createElement("div",{className:"header"},this.props.task.title),o.a.createElement("div",{className:"meta"},t,o.a.createElement("span",{className:"right floated"},"Due ",n)),o.a.createElement("div",{className:"description"},o.a.createElement("p",{style:{color:"black"}},o.a.createElement("pre",null,this.props.task.description))))))}}])&&R(n.prototype,a),i&&R(n,i),t}(r.Component);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=L(t).call(this,e))||"object"!==z(o)&&"function"!=typeof o?B(r):o).state={tasks:[],task:void 0,selected:"to do",url:"/api/v1/tasks/search/todo",filters:["past due","completed"],mode:"create",pages:1,currentPage:1},n.handleStateChange=n.handleStateChange.bind(B(n)),n.handleGetTasks=n.handleGetTasks.bind(B(n)),n.handlePatchTask=n.handlePatchTask.bind(B(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,e),n=t,(a=[{key:"handleStateChange",value:function(e,t){this.setState(e,t)}},{key:"handlePatchTask",value:function(e,t){var n=this;$.ajax({type:"PATCH",url:"/api/v1/tasks/"+t.id,headers:{Authorization:"Bearer "+n.props.token,Accept:"application/json"},contentType:"application/json",data:JSON.stringify(e),error:function(e){},success:function(e){n.setState({task:t},(function(){n.handleGetTasks()}))}})}},{key:"handleGetTasks",value:function(){var e=this;this.props.authCallback((function(){$.ajax({type:"GET",url:e.state.url+"?page="+(e.state.currentPage-1)+"&size=5",headers:{Authorization:"Bearer "+e.props.token,Accept:"application/json"},contentType:"application/x-www-form-urlencoded",success:function(t){e.setState({pages:t.totalPages,currentPage:t.number+1}),t.content.forEach((function(t){t.viewAction=function(){e.setState({task:t},(function(){$("#taskmodal").modal("show")}))},t.patchAction=function(n){e.handlePatchTask(n,t),e.handleGetTasks(),e.setState({task:t})}})),e.setState({tasks:t.content})}})}),(function(){}))}},{key:"componentDidMount",value:function(){var e=this;$("#taskfiltermenu").dropdown({onChange:function(t,n,r){var o=e.state.selected,a=e.state.filters.filter((function(e){return e!==t}));a.push(o);var i="/api/v1/tasks/search/todo";"completed"===t?i="/api/v1/tasks/search/completed":"past due"===t&&(i="/api/v1/tasks/search/pastdue"),e.setState({selected:t,filters:a,url:i,currentPage:1},e.handleGetTasks())}}),this.handleGetTasks()}},{key:"componentDidUpdate",value:function(e,t){var n=this;$("#taskfiltermenu").dropdown({onChange:function(e,t,r){var o=n.state.selected,a=n.state.filters.filter((function(t){return t!==e}));a.push(o);var i="/api/v1/tasks/search/todo";"completed"===e?i="/api/v1/tasks/search/completed":"past due"===e&&(i="/api/v1/tasks/search/pastdue"),n.setState({selected:e,filters:a,url:i,currentPage:1},n.handleGetTasks())}}),md5(JSON.stringify(t.tasks)+e.user+e.token)!==md5(JSON.stringify(this.state.tasks)+this.props.user+this.props.token)&&this.handleGetTasks()}},{key:"render",value:function(){if("anonymous"===this.props.user)return o.a.createElement(r.Fragment,null);var e=o.a.createElement(r.Fragment,null),t=this;return e=this.state.tasks.length>0?o.a.createElement("div",{className:"ui relaxed divided list"},this.state.tasks.map((function(e,t){return o.a.createElement(l,{task:e})}))):o.a.createElement("div",{className:"ui message"},o.a.createElement("i",{class:"coffee icon"})," You are all set!"),o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"ui top attached menu"},o.a.createElement("div",{className:"header item"},o.a.createElement("i",{className:"tasks icon"})," Tasks ",this.state.selected),o.a.createElement("div",{className:"right menu"},o.a.createElement("div",{class:"ui item",onClick:function(){t.setState({mode:"create"},(function(){$("#createtaskmodal").modal("show")}))}},o.a.createElement("i",{className:"plus icon"})," Add a task"),o.a.createElement("div",{className:"ui dropdown item",id:"taskfiltermenu"},o.a.createElement("i",{className:"filter icon"}),o.a.createElement("i",{className:"dropdown icon"}),o.a.createElement("div",{className:"menu"},this.state.filters.map((function(e,t){return o.a.createElement("div",{className:"item"},e)})))))),o.a.createElement("div",{className:"ui bottom attached segment"},e,o.a.createElement(h,{pages:this.state.pages,current:this.state.currentPage,prevCallback:function(){if(console.log(t.state.pages),t.state.currentPage>1){var e=t.state.currentPage-1;t.setState({currentPage:e},t.handleGetTasks)}},nextCallback:function(){if(console.log(t.state.pages),t.state.currentPage<t.state.pages){var e=t.state.currentPage+1;t.setState({currentPage:e},t.handleGetTasks)}}}),o.a.createElement("div",{style:{clear:"both"}})),o.a.createElement(G,{user:this.props.user,avatar:this.props.avatar,task:this.state.task,parentStateCallback:this.handleStateChange}),o.a.createElement(A,{token:this.props.token,mode:this.state.mode,task:this.state.task,patchTask:this.handlePatchTask,getTasks:this.handleGetTasks}))}}])&&V(n.prototype,a),i&&V(n,i),t}(r.Component);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.Component;function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ee(this,te(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"ui container"},o.a.createElement("div",{className:"ui segment"},o.a.createElement("h2",{className:"ui center aligned icon header"},o.a.createElement("i",{className:"circular chess rook icon"}),"Wissen")),o.a.createElement("div",{className:"ui stackable two column grid"},o.a.createElement("div",{className:"column"}),o.a.createElement("div",{className:"column"},o.a.createElement(W,{authCallback:this.props.authCallback,user:this.props.user,token:this.props.token,avatar:this.props.avatar})))))}}])&&Z(n.prototype,a),i&&Z(n,i),t}(r.Component);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ie(this,ce(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"ui top attached menu"},o.a.createElement("div",{className:"ui item"},o.a.createElement("a",{href:"/"},o.a.createElement("h3",{className:"ui header"},"Wissen"))),o.a.createElement("div",{className:"ui right item",onClick:function(){"anonymous"===e.props.user&&$("#authmodal").modal("show")}},o.a.createElement("img",{className:"ui bordered avatar image",src:"https://avatars.dicebear.com/v2/jdenticon/".concat(this.props.avatar,".svg")}),o.a.createElement("span",null,this.props.user)))}}])&&ae(n.prototype,r),a&&ae(n,a),t}(r.Component);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ye=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pe(this,me(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"ui icon ".concat(this.props.type," message")},o.a.createElement("i",{className:"".concat(this.props.icon," icon")}),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"header"},this.props.header),o.a.createElement("p",null,this.props.message)))}}])&&fe(n.prototype,r),a&&fe(n,a),t}(r.Component);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ee=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ve(t).call(this,e))||"object"!==he(o)&&"function"!=typeof o?ge(r):o).state={user:"",password:""},n.handleUserInput=n.handleUserInput.bind(ge(n)),n.handleSubmit=n.handleSubmit.bind(ge(n)),n.handleClearState=n.handleClearState.bind(ge(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(t,e),n=t,(r=[{key:"handleClearState",value:function(){this.setState({user:"",password:""}),$("#authdisplayerrors").empty(),$("#authform").form("clear"),$("[name='loginerror']").val("value")}},{key:"handleUserInput",value:function(e){var t=e.target.name,n=e.target.value;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this;$("#authform").form("is valid")&&$.ajax({type:"POST",url:"/oauth/token",headers:{Authorization:"Basic bWFzdGVyOjEyMzQ1Ng==",Accept:"application/json"},contentType:"application/x-www-form-urlencoded",data:{password:t.state.password,username:t.state.user,grant_type:"password"},error:function(e){$('[name="loginerror"]').val(""),$("#authform").form("validate form"),$('[name="loginerror"]').val("value")},success:function(e){$.cookie("authtoken",e.access_token),$.cookie("authuser",t.state.user),$("#authmodal").modal("hide");var n=e;$.ajax({type:"GET",url:"/api/v1/accounts/"+t.state.user,headers:{Authorization:"Bearer "+e.access_token,Accept:"application/json"},success:function(e){$.cookie("avatar",e.avatarSeed),t.props.parentStateCallback({user:t.state.user,token:n.access_token,avatar:e.avatarSeed})}})}})}},{key:"componentDidMount",value:function(){$("#authform").form({fields:{user:{identifier:"user",rules:[{type:"empty",prompt:"Username cannot be empty"}]},loginError:{identifier:"loginerror",rules:[{type:"empty",prompt:"User/Password do not match"}]}},onSuccess:function(e,t){e.preventDefault()}})}},{key:"render",value:function(){var e=this;return o.a.createElement(P,{id:"authmodal",onOpeningCallback:this.handleClearState},o.a.createElement(ye,{icon:"id badge",header:"Hi! Stranger",message:"Welcome to wissen, please provide your credentials or register to use the system"}),o.a.createElement("form",{className:"ui form",onSubmit:this.handleSubmit,id:"authform"},o.a.createElement("div",{className:"field"},o.a.createElement("label",{htmlFor:"user"},"Username"),o.a.createElement("input",{type:"text",value:this.state.user,onChange:function(t){return e.handleUserInput(t)},name:"user"})),o.a.createElement("div",{className:"field"},o.a.createElement("label",{htmlFor:"password"},"Password"),o.a.createElement("input",{type:"password",value:this.state.password,onChange:function(t){return e.handleUserInput(t)},name:"password"})),o.a.createElement("div",{className:"field"},o.a.createElement("input",{type:"text",name:"loginerror",style:{display:"none"}})),o.a.createElement("div",{className:"ui error message",id:"authdisplayerrors"}),o.a.createElement("div",{className:"ui two buttons"},o.a.createElement("button",{className:"ui button",type:"submit"},"Login"),o.a.createElement("div",{className:"or"}),o.a.createElement("button",{className:"ui button",type:"button",onClick:function(){$("#regmodal").modal("show")}},"Register"))))}}])&&be(n.prototype,r),a&&be(n,a),t}(r.Component);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pe=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Oe(t).call(this,e))||"object"!==we(o)&&"function"!=typeof o?_e(r):o).state={user:"",email:"",avatar:md5(Math.random().toString()),password:"",confirmpassword:""},n.handleUserInput=n.handleUserInput.bind(_e(n)),n.handleSubmit=n.handleSubmit.bind(_e(n)),n.handleSwitchAvatarImage=n.handleSwitchAvatarImage.bind(_e(n)),n.handleClearState=n.handleClearState.bind(_e(n)),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,e),n=t,(r=[{key:"handleClearState",value:function(){$("#regdisplayerrors").empty(),$("#regform").form("clear"),this.setState({user:"",email:"",avatar:md5(Math.random().toString()),password:"",confirmpassword:""})}},{key:"componentDidMount",value:function(){$("#regform").form({fields:{user:{identifier:"user",rules:[{type:"empty",prompt:"Username cannot be empty"},{type:"maxLength[25]",prompt:"Username cannot be larger than 25 characters"}]},email:{identifier:"email",rules:[{type:"email",prompt:"Please provide a valid email address"}]},password:{identifier:"password",rules:[{type:"empty",prompt:"Password cannot be empty"},{type:"minLength[8]",prompt:"Password should be at least 8 characters long"}]},confirmPassword:{identifier:"confirmpassword",rules:[{type:"match[password]",prompt:"Passwords do not match"}]}},onSuccess:function(e,t){e.preventDefault()}})}},{key:"handleSwitchAvatarImage",value:function(){this.setState({avatar:md5(Math.random().toString())})}},{key:"handleUserInput",value:function(e){var t=e.target.name,n=e.target.value;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),$("#regform").form("is valid")&&$.ajax({type:"POST",url:"/api/v1/accounts",headers:{Accept:"application/json"},contentType:"application/json",data:JSON.stringify({password:this.state.password,nickname:this.state.user,email:this.state.email,avatarSeed:this.state.avatar}),error:function(e){},success:function(e){$("#regdisplayerrors").empty(),$("#regform").form("clear"),$("#regform").removeClass("error"),$("#regform").addClass("success"),setTimeout((function(){$("#regmodal").modal("hide")}),1500)}})}},{key:"render",value:function(){var e=this;return o.a.createElement(P,{id:"regmodal",onOpeningCallback:this.handleClearState},o.a.createElement("h4",{className:"ui dividing header"},"Register an account"),o.a.createElement("div",{className:"ui stackable grid"},o.a.createElement("div",{className:"four wide column"},o.a.createElement("img",{className:"ui bordered image",src:"https://avatars.dicebear.com/v2/jdenticon/".concat(this.state.avatar,".svg")}),o.a.createElement("br",null),o.a.createElement("button",{className:"fluid ui icon basic button",type:"button",onClick:this.handleSwitchAvatarImage},o.a.createElement("i",{className:"redo alternate icon"})," Switch avatar image")),o.a.createElement("div",{className:"twelve wide column"},o.a.createElement("form",{className:"ui small form",onSubmit:this.handleSubmit,id:"regform"},o.a.createElement("div",{className:"field"},o.a.createElement("label",{htmlFor:"user"},"Username"),o.a.createElement("input",{type:"text",maxLength:25,value:this.state.user,onChange:function(t){return e.handleUserInput(t)},name:"user"})),o.a.createElement("div",{className:"field"},o.a.createElement("label",{htmlFor:"email"},"Email"),o.a.createElement("input",{type:"email",value:this.state.email,onChange:function(t){return e.handleUserInput(t)},name:"email"})),o.a.createElement("div",{className:"two fields"},o.a.createElement("div",{className:"field"},o.a.createElement("label",{htmlFor:"password"},"Password"),o.a.createElement("input",{type:"password",id:"password",value:this.state.password,onChange:function(t){return e.handleUserInput(t)},name:"password"})),o.a.createElement("div",{className:"field"},o.a.createElement("label",{htmlFor:"confirmpassword"},"Confirm password"),o.a.createElement("input",{type:"password",value:this.state.confirmpassword,onChange:function(t){return e.handleUserInput(t)},name:"confirmpassword"}))),o.a.createElement("div",{className:"ui success message"},o.a.createElement("div",{className:"header"},"Account created"),o.a.createElement("p",null,"Please review your email inbox and follow the link to activate your account")),o.a.createElement("div",{className:"ui error message",id:"regdisplayerrors"}),o.a.createElement("button",{className:"ui blue fluid button",type:"submit"},"Register")))))}}])&&Se(n.prototype,r),a&&Se(n,a),t}(r.Component);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,n=!(o=Te(t).call(this,e))||"object"!==Ce(o)&&"function"!=typeof o?$e(r):o,void 0===$.cookie("layout")&&$.cookie("layout","home"),void 0===$.cookie("authuser")&&($.cookie("authuser","anonymous"),$.cookie("avatar",md5(Math.random().toString()))),n.state={layout:$.cookie("layout"),user:$.cookie("authuser"),avatar:$.cookie("avatar"),token:$.cookie("authtoken")},n.handleStateChange=n.handleStateChange.bind($e(n)),n.handleAuthValidation=n.handleAuthValidation.bind($e(n)),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){this.handleAuthValidation((function(){}),(function(){}))}},{key:"handleStateChange",value:function(e,t){this.setState(e,t)}},{key:"handleAuthValidation",value:function(e,t){var n=this;void 0!==this.state.token&&"anonymous"!==this.state.user?fetch("/oauth/check_token?token="+n.state.token,{headers:{Authorization:"Basic bWFzdGVyOjEyMzQ1Ng==",Accept:"application/json"}}).then((function(r){if(200!==r.status)return $.removeCookie("authtoken"),$.cookie("authuser","anonymous"),$.cookie("avatar",md5(Math.random().toString())),void n.setState({user:"anonymous",avatar:$.cookie("avatar"),token:void 0},t());e()})):t()}},{key:"render",value:function(){var e=o.a.createElement(r.Fragment,null);return"home"===this.state.layout&&(e=o.a.createElement(re,{parentStateCallback:this.handleStateChange,authCallback:this.handleAuthValidation,user:this.state.user,token:this.state.token,avatar:this.state.avatar})),o.a.createElement(r.Fragment,null,o.a.createElement(ue,{user:this.state.user,avatar:this.state.avatar}),e,o.a.createElement(Ee,{parentStateCallback:this.handleStateChange}),o.a.createElement(Pe,null))}}])&&Ne(n.prototype,a),i&&Ne(n,i),t}(r.Component);ReactDOM.render(o.a.createElement(Ie,null),document.getElementById("root"));t.default=Ie}]);