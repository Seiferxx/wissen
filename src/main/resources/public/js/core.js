!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";e.exports=n(1)},function(e,t,n){"use strict";
/** @license React v16.12.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=n(2),r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,c=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,f=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113;r&&Symbol.for("react.suspense_list");var d=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116;r&&Symbol.for("react.fundamental"),r&&Symbol.for("react.responder"),r&&Symbol.for("react.scope");var h="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function E(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}function k(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(b(85));this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=E.prototype;var S=w.prototype=new k;S.constructor=w,a(S,E.prototype),S.isPureReactComponent=!0;var O={current:null},j={current:null},_=Object.prototype.hasOwnProperty,P={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var a,r={},c=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(c=""+t.key),t)_.call(t,a)&&!P.hasOwnProperty(a)&&(r[a]=t[a]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===r[a]&&(r[a]=l[a]);return{$$typeof:o,type:e,key:c,ref:i,props:r,_owner:j.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var R=/\/+/g,T=[];function x(e,t,n,a){if(T.length){var r=T.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=a,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:a,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>T.length&&T.push(e)}function $(e,t,n){return null==e?0:function e(t,n,a,r){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var l=!1;if(null===t)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case c:l=!0}}if(l)return a(r,t,""===n?"."+A(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){var u=n+A(i=t[s],s);l+=e(i,u,a,r)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=h&&t[h]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),s=0;!(i=t.next()).done;)l+=e(i=i.value,u=n+A(i,s++),a,r);else if("object"===i)throw a=""+t,Error(b(31,"[object Object]"===a?"object with keys {"+Object.keys(t).join(", ")+"}":a,""));return l}(e,"",t,n)}function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function I(e,t){e.func.call(e.context,t,e.count++)}function M(e,t,n){var a=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,a,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(R,"$&/")+"/")+n)),a.push(e))}function F(e,t,n,a,r){var o="";null!=n&&(o=(""+n).replace(R,"$&/")+"/"),$(e,M,t=x(t,o,a,r)),D(t)}function U(){var e=O.current;if(null===e)throw Error(b(321));return e}var G={Children:{map:function(e,t,n){if(null==e)return e;var a=[];return F(e,a,null,t,n),a},forEach:function(e,t,n){if(null==e)return e;$(e,I,t=x(null,null,t,n)),D(t)},count:function(e){return $(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(b(143));return e}},createRef:function(){return{current:null}},Component:E,PureComponent:w,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:p,render:e}},lazy:function(e){return{$$typeof:y,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return U().useCallback(e,t)},useContext:function(e,t){return U().useContext(e,t)},useEffect:function(e,t){return U().useEffect(e,t)},useImperativeHandle:function(e,t,n){return U().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return U().useLayoutEffect(e,t)},useMemo:function(e,t){return U().useMemo(e,t)},useReducer:function(e,t,n){return U().useReducer(e,t,n)},useRef:function(e){return U().useRef(e)},useState:function(e){return U().useState(e)},Fragment:i,Profiler:s,StrictMode:l,Suspense:m,createElement:N,cloneElement:function(e,t,n){if(null==e)throw Error(b(267,e));var r=a({},e.props),c=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=j.current),void 0!==t.key&&(c=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)_.call(t,u)&&!P.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){s=Array(u);for(var f=0;f<u;f++)s[f]=arguments[f+2];r.children=s}return{$$typeof:o,type:e.type,key:c,ref:i,props:r,_owner:l}},createFactory:function(e){var t=N.bind(null,e);return t.type=e,t},isValidElement:C,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:j,IsSomeRendererActing:{current:!1},assign:a}},z={default:G},L=z&&G||z;e.exports=L.default||L},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function c(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,l=c(e),s=1;s<arguments.length;s++){for(var u in n=Object(arguments[s]))r.call(n,u)&&(l[u]=n[u]);if(a){i=a(n);for(var f=0;f<i.length;f++)o.call(n,i[f])&&(l[i[f]]=n[i[f]])}}return l}},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(m,e);var t,n,a,o,p=(t=m,function(){var e,n=u(t);if(s()){var a=u(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return l(this,e)});function m(){return c(this,m),p.apply(this,arguments)}return n=m,(a=[{key:"render",value:function(){var e=getTaskIconClass(this.props.task.completed,this.props.task.dueDate),t=this;return r.a.createElement("div",{className:"item"},r.a.createElement("i",{className:"large ".concat(e," middle aligned icon"),onClick:function(){t.props.task.patchAction({completed:!t.props.task.completed})}}),r.a.createElement("div",{className:"content",onClick:this.props.task.viewAction},r.a.createElement("div",{className:"header"},this.props.task.title),r.a.createElement("div",{className:"description"},r.a.createElement("pre",{style:{margin:"0"}},this.props.task.description))))}}])&&i(n.prototype,a),o&&i(n,o),m}(a.Component);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(l,e);var t,n,o,c,i=(t=l,function(){var e,n=v(t);if(b()){var a=v(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return h(this,e)});function l(){return d(this,l),i.apply(this,arguments)}return n=l,(o=[{key:"render",value:function(){if(this.props.pages<=1)return r.a.createElement(a.Fragment,null);var e=r.a.createElement(a.Fragment,null),t=r.a.createElement(a.Fragment,null);return this.props.pages!==this.props.current&&(e=r.a.createElement("button",{class:"ui right floated circular small icon button",onClick:this.props.nextCallback},r.a.createElement("i",{class:"angle right fitted icon"}))),this.props.current>1&&(t=r.a.createElement("button",{className:"ui circular small icon button",onClick:this.props.prevCallback},r.a.createElement("i",{className:"angle left fitted icon"}))),r.a.createElement("div",{className:"ui centered grid"},r.a.createElement("div",{className:"three wide column"},t),r.a.createElement("div",{className:"four wide center aligned column"},"".concat(this.props.current," of ").concat(this.props.pages)),r.a.createElement("div",{className:"three wide column"},e))}}])&&y(n.prototype,o),c&&y(n,c),l}(a.Component);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function S(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}a.Component;function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(i,e);var t,n,a,o,c=(t=i,function(){var e,n=x(t);if(T()){var a=x(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return R(this,e)});function i(){return N(this,i),c.apply(this,arguments)}return n=i,(a=[{key:"componentDidMount",value:function(){var e=this;$("#".concat(this.props.id)).modal({allowMultiple:!1,detachable:!1,useFlex:!1,autofocus:!1,onHidden:function(){void 0!==e.props.onClosedCallback&&e.props.onClosedCallback()},onShow:function(){void 0!==e.props.onOpeningCallback&&e.props.onOpeningCallback()}})}},{key:"render",value:function(){var e;return void 0!==this.props.title&&(e=r.a.createElement("div",{className:"header"},this.props.title)),ReactDOM.createPortal(r.a.createElement("div",{className:"ui ".concat(this.props.modalType," modal"),style:{position:"fixed"},id:this.props.id},e,r.a.createElement("div",{className:"".concat(this.props.contentType," content")},this.props.children)),document.getElementById("modals"))}}])&&C(n.prototype,a),o&&C(n,o),i}(a.Component);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function F(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(i,e);var t,n,a,o,c=(t=i,function(){var e,n=z(t);if(G()){var a=z(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return F(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=c.call(this,e)).state={title:"",description:"",duedate:(new Date).toISOString().substring(0,16),tags:[],tag:"",category:"",formTitle:"",buttonText:""},t.handleSubmit=t.handleSubmit.bind(U(t)),t.handleUserInput=t.handleUserInput.bind(U(t)),t.handleInit=t.handleInit.bind(U(t)),t.handleTagsKeyDownEvent=t.handleTagsKeyDownEvent.bind(U(t)),t.handleRemoveTagEvent=t.handleRemoveTagEvent.bind(U(t)),t}return n=i,(a=[{key:"componentDidMount",value:function(){$("#createtaskform").form({fields:{title:{identifier:"title",rules:[{type:"empty",prompt:"You must provide a title for the task"},{type:"maxLength[70]",prompt:"Title cannot be larger than 70 characters"}]}},onSuccess:function(e,t){e.preventDefault()},keyboardShortcuts:!1})}},{key:"handleUserInput",value:function(e){var t=e.target.name,n=e.target.value;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this;$("#createtaskform").form("is valid")&&("create"===this.props.mode?$.ajax({type:"POST",url:"/api/v1/tasks",headers:{Authorization:"Bearer "+this.props.token,Accept:"application/json"},contentType:"application/json",data:JSON.stringify({title:t.state.title,dueDate:t.state.duedate,description:t.state.description,tags:t.state.tags}),error:function(e){},success:function(e){setTimeout((function(){t.props.getTasks(),$("#createtaskmodal").modal("hide")}),300)}}):"edit"===this.props.mode&&(this.props.patchTask({title:this.state.title,description:this.state.description,dueDate:this.state.duedate,tags:this.state.tags},this.props.task),setTimeout((function(){$("#createtaskmodal").modal("hide")}),300)))}},{key:"handleInit",value:function(){"create"===this.props.mode?($("#cretaskdisplayerrors").empty(),$("#createtaskform").form("clear"),this.setState({formTitle:"Create task",title:"",description:"",duedate:(new Date).toISOString().substring(0,16),tags:[],tag:"",buttonText:"Create"})):"edit"===this.props.mode&&this.setState({formTitle:"Edit task "+this.props.task.id,title:this.props.task.title,description:this.props.task.description,duedate:new Date(this.props.task.dueDate).toISOString().substring(0,16),tags:void 0===this.props.task.tags?[]:this.props.task.tags,tag:"",buttonText:"Edit"})}},{key:"handleTagsKeyDownEvent",value:function(e){if(13===e.keyCode)if(e.preventDefault(),this.state.tags.includes(this.state.tag))this.setState({tag:""});else{var t=this.state.tags;t.push(this.state.tag),this.setState({tags:t,tag:""})}}},{key:"handleRemoveTagEvent",value:function(e){var t=this.state.tags.filter((function(t){return t!==e}));this.setState({tags:t})}},{key:"render",value:function(){var e=this,t=this;return r.a.createElement(A,{id:"createtaskmodal",onOpeningCallback:this.handleInit},r.a.createElement("form",{className:"ui small form",id:"createtaskform",onSubmit:this.handleSubmit},r.a.createElement("h4",{className:"ui dividing header"},this.state.formTitle),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",name:"title",maxLength:70,value:this.state.title,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Description"),r.a.createElement("textarea",{rows:"2",name:"description",value:this.state.description,onChange:function(t){return e.handleUserInput(t)}})),r.a.createElement("div",{className:"two fields"},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Tags"),r.a.createElement("input",{type:"text",name:"tag",id:"tagref",value:this.state.tag,onChange:function(t){return e.handleUserInput(t)},onKeyDown:function(t){return e.handleTagsKeyDownEvent(t)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Due date"),r.a.createElement("input",{type:"datetime-local",name:"duedate",value:this.state.duedate,onChange:function(t){return e.handleUserInput(t)}}))),r.a.createElement("div",{className:"two fields"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui labels"},this.state.tags.map((function(e,n){return r.a.createElement("div",{class:"ui teal label"},r.a.createElement("i",{class:"tag icon"}),e,r.a.createElement("i",{class:"delete icon",onClick:function(){t.handleRemoveTagEvent(e)}}))}))))),r.a.createElement("div",{className:"ui error message",id:"cretaskdisplayerrors"}),r.a.createElement("button",{className:"ui small blue fluid button",type:"submit"},this.state.buttonText)))}}])&&M(n.prototype,a),o&&M(n,o),i}(a.Component);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function H(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(l,e);var t,n,o,c,i=(t=l,function(){var e,n=X(t);if(q()){var a=X(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return H(this,e)});function l(){return K(this,l),i.apply(this,arguments)}return n=l,(o=[{key:"render",value:function(){if(void 0===this.props.task)return r.a.createElement(a.Fragment,null);var e=this,t=dateDiffFormat(new Date,new Date(this.props.task.creationDate))+" ago",n=formatDate(this.props.task.dueDate),o=r.a.createElement(a.Fragment,null);return null!=this.props.task.tags&&this.props.task.tags.length>0&&(o=r.a.createElement("div",{className:"ui labels"},this.props.task.tags.map((function(e,t){return r.a.createElement("div",{className:"ui teal label"},r.a.createElement("i",{className:"tag icon"}),e)})))),r.a.createElement(A,{id:"taskmodal",modalType:"basic"},r.a.createElement("div",{className:"ui fluid card"},r.a.createElement("div",{className:"content"},r.a.createElement("i",{class:"right floated trash alternate outline grey icon",onClick:function(){e.props.task.deleteAction()}}),r.a.createElement("i",{class:"right floated edit outline grey icon",onClick:function(){e.props.parentStateCallback({mode:"edit"},(function(){$("#createtaskmodal").modal("show")}))}}),r.a.createElement("div",{className:"header"},this.props.task.title),r.a.createElement("div",{className:"meta"},t,r.a.createElement("span",{className:"right floated"},"Due ",n)),r.a.createElement("div",{className:"description"},r.a.createElement("p",{style:{color:"black"}},r.a.createElement("pre",null,this.props.task.description)),o)),r.a.createElement("div",{class:"extra content"},r.a.createElement("div",{class:"right floated author"},r.a.createElement("img",{class:"ui avatar image",src:"https://avatars.dicebear.com/v2/jdenticon/".concat(this.props.task.id,".svg")})," ",this.props.task.id))))}}])&&W(n.prototype,o),c&&W(n,c),l}(a.Component);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ne(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?ae(e):t}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(l,e);var t,n,o,c,i=(t=l,function(){var e,n=oe(t);if(re()){var a=oe(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return ne(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).state={tasks:[],task:void 0,filters:[{name:"To do",url:"/api/v1/tasks/search/todo?size=5&page=",color:"teal"},{name:"Past due",url:"/api/v1/tasks/search/pastdue?size=5&page=",color:"red"},{name:"Completed",url:"/api/v1/tasks/search/completed?size=5&page=",color:"green"},{name:"Tag",url:"/api/v1/tasks/search/bytag?size=5"}],selectedFilter:{name:"To do",url:"/api/v1/tasks/search/todo?size=5&page="},mode:"create",pages:1,currentPage:1,tag:""},t.handleStateChange=t.handleStateChange.bind(ae(t)),t.handleGetTasks=t.handleGetTasks.bind(ae(t)),t.handlePatchTask=t.handlePatchTask.bind(ae(t)),t.handleDeleteTask=t.handleDeleteTask.bind(ae(t)),t.handleTagsKeyDownEvent=t.handleTagsKeyDownEvent.bind(ae(t)),t}return n=l,(o=[{key:"handleStateChange",value:function(e,t){this.setState(e,t)}},{key:"componentDidMount",value:function(){var e=this;this.setState({selectedFilter:this.state.filters[0]}),$("#taskfiltermenu").dropdown({onChange:function(t,n,a){void 0!==n&&e.setState({selectedFilter:e.state.filters.find((function(e){return e.name===t})),currentPage:1},(function(){e.handleGetTasks()}))},selectOnKeydown:!1,onShow:function(){$("#taginput").val(""),$("#taskfiltermenu").dropdown("clear")}}),this.handleGetTasks()}},{key:"componentDidUpdate",value:function(e,t){var n=this;$("#taskfiltermenu").dropdown({onChange:function(e,t,a){void 0!==t&&n.setState({selectedFilter:n.state.filters.find((function(t){return t.name===e})),currentPage:1},(function(){n.handleGetTasks()}))},selectOnKeydown:!1,onShow:function(){$("#taginput").val(""),$("#taskfiltermenu").dropdown("clear")}}),md5(JSON.stringify(t.tasks)+e.user+e.token)!==md5(JSON.stringify(this.state.tasks)+this.props.user+this.props.token)&&this.handleGetTasks()}},{key:"handleDeleteTask",value:function(e){var t=this;$.ajax({type:"DELETE",url:"/api/v1/tasks/"+e.id,headers:{Authorization:"Bearer "+t.props.token,Accept:"application/json"},contentType:"application/json",error:function(e){},success:function(e){t.handleGetTasks(),setTimeout((function(){$("#taskmodal").modal("hide")}),100)}})}},{key:"handlePatchTask",value:function(e,t){var n=this;$.ajax({type:"PATCH",url:"/api/v1/tasks/"+t.id,headers:{Authorization:"Bearer "+n.props.token,Accept:"application/json"},contentType:"application/json",data:JSON.stringify(e),error:function(e){},success:function(e){n.setState({task:t},(function(){n.handleGetTasks()}))}})}},{key:"handleGetTasks",value:function(){var e=this;this.props.authCallback((function(){$.ajax({type:"GET",url:e.state.selectedFilter.url+(e.state.currentPage-1),headers:{Authorization:"Bearer "+e.props.token,Accept:"application/json"},contentType:"application/x-www-form-urlencoded",success:function(t){e.setState({pages:t.totalPages,currentPage:t.number+1}),t.content.forEach((function(t){t.viewAction=function(){e.setState({task:t},(function(){$("#taskmodal").modal("show")}))},t.patchAction=function(n){e.handlePatchTask(n,t)},t.deleteAction=function(){e.handleDeleteTask(t)}})),e.setState({tasks:t.content})}})}),(function(){}))}},{key:"handleTagsKeyDownEvent",value:function(e){var t=this;if(13===e.keyCode){e.preventDefault();var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state.filters.find((function(e){return"Tag"===e.name})));n.url=n.url+"&tags="+$("#taginput").val()+"&page=",n.name=n.name+": "+$("#taginput").val(),$("#taskfiltermenu").dropdown("hide"),this.setState({selectedFilter:n,currentPage:1},(function(){t.handleGetTasks()}))}}},{key:"render",value:function(){var e=this;if("anonymous"===this.props.user)return r.a.createElement(a.Fragment,null);var t=r.a.createElement(a.Fragment,null),n=this;return t=this.state.tasks.length>0?r.a.createElement("div",{className:"ui relaxed divided list"},this.state.tasks.map((function(e,t){return r.a.createElement(p,{task:e})}))):r.a.createElement("div",{className:"ui message"},r.a.createElement("i",{class:"coffee icon"})," You are all set!"),r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"ui top attached menu"},r.a.createElement("div",{className:"header item"},r.a.createElement("i",{className:"tasks icon"}),this.state.selectedFilter.name),r.a.createElement("div",{className:"right menu"},r.a.createElement("div",{class:"ui item",onClick:function(){n.setState({mode:"create"},(function(){$("#createtaskmodal").modal("show")}))}},r.a.createElement("i",{className:"fitted plus icon"})),r.a.createElement("div",{className:"ui dropdown icon item",id:"taskfiltermenu"},r.a.createElement("i",{className:"fitted filter icon"}),r.a.createElement("i",{className:"dropdown icon"}),r.a.createElement("div",{className:"menu"},r.a.createElement("div",{class:"header"},"Search tags"),r.a.createElement("div",{class:"ui input"},r.a.createElement("input",{type:"text",id:"taginput",onKeyDown:function(t){return e.handleTagsKeyDownEvent(t)}})),r.a.createElement("div",{class:"header"},r.a.createElement("i",{class:"filter icon"}),"Filters"),r.a.createElement("div",{class:"divider"}),this.state.filters.map((function(e,t){if("Tag"!==e.name)return r.a.createElement("div",{className:"item","data-value":e.name},r.a.createElement("div",{class:"ui "+e.color+" empty circular label"}),e.name)})))))),r.a.createElement("div",{className:"ui bottom attached segment"},t,r.a.createElement(E,{pages:this.state.pages,current:this.state.currentPage,prevCallback:function(){if(n.state.currentPage>1){var e=n.state.currentPage-1;n.setState({currentPage:e},n.handleGetTasks)}},nextCallback:function(){if(n.state.currentPage<n.state.pages){var e=n.state.currentPage+1;n.setState({currentPage:e},n.handleGetTasks)}}}),r.a.createElement("div",{style:{clear:"both"}})),r.a.createElement(Y,{user:this.props.user,avatar:this.props.avatar,task:this.state.task,parentStateCallback:this.handleStateChange}),r.a.createElement(V,{token:this.props.token,mode:this.state.mode,task:this.state.task,patchTask:this.handlePatchTask,getTasks:this.handleGetTasks}))}}])&&te(n.prototype,o),c&&te(n,c),l}(a.Component);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function fe(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}a.Component;function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ve(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(l,e);var t,n,o,c,i=(t=l,function(){var e,n=Ee(t);if(ge()){var a=Ee(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return ve(this,e)});function l(){return he(this,l),i.apply(this,arguments)}return n=l,(o=[{key:"render",value:function(){var e=r.a.createElement("div",{className:"ui icon message"},r.a.createElement("i",{className:"file code outline icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},"Welcome!"),r.a.createElement("p",null,"This is a personal project to showcase some programming techniques and frameworks, it currently features a personal task manager and a simple content management system."),r.a.createElement("p",null,'The initial idea behind the project was to create a flashcard repository or "knowledge base" (thus the name "Wissen", which means knowledge in german), but since 2016 this has been my playground for software development. Having the last two years the higher peak of activity.'),r.a.createElement("p",null,"You can follow the development of this project, collaborate and raise bugs on github."),r.a.createElement("div",{className:"ui labels"},r.a.createElement("a",{className:"ui grey label",href:"https://github.com/seiferxx/wissen"},r.a.createElement("i",{className:"github icon"}),"wissen"),r.a.createElement("a",{className:"ui grey label",href:"https://github.com/Seiferxx/wissen/tree/development-heroku"},r.a.createElement("i",{className:"code branch icon"}),"dev branch"),r.a.createElement("a",{className:"ui grey label",href:"https://github.com/Seiferxx/wissen/issues"},r.a.createElement("i",{className:"bug icon"}),"bugs"),r.a.createElement("a",{className:"ui grey label",href:"https://github.com/Seiferxx/wissen/projects/2"},r.a.createElement("i",{className:"project diagram icon"}),"project")),r.a.createElement("p",null,"If you have any concern regarding the project please contact me"),r.a.createElement("div",{className:"ui labels"},r.a.createElement("div",{className:"ui grey label"},r.a.createElement("i",{className:"google icon"}),"seifer.ch@gmail.com"),r.a.createElement("a",{className:"ui grey label",href:"https://twitter.com/Seiferson"},r.a.createElement("i",{className:"twitter icon"}),"@Seiferson"))));return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui segment"},r.a.createElement("h2",{className:"ui center aligned icon header"},r.a.createElement("i",{className:"circular laptop code icon"}),"Wissen")),r.a.createElement("div",{className:"ui stackable two column grid"},r.a.createElement("div",{className:"column"},e),r.a.createElement("div",{className:"column"}))))}}])&&be(n.prototype,o),c&&be(n,c),l}(a.Component);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _e(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(i,e);var t,n,a,o,c=(t=i,function(){var e,n=Ne(t);if(Pe()){var a=Ne(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return _e(this,e)});function i(){return Oe(this,i),c.apply(this,arguments)}return n=i,(a=[{key:"render",value:function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"ui five wide column"},r.a.createElement("div",{className:"ui fluid card"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:"https://avatars.dicebear.com/v2/jdenticon/".concat(this.props.avatar,".svg")})),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},this.props.user),r.a.createElement("div",{className:"meta"},r.a.createElement("a",null,"Paladin")),r.a.createElement("div",{className:"description"},"This is a short bio text that users can place")),r.a.createElement("div",{className:"extra content"},r.a.createElement("span",{className:"right floated"},"Joined in 2013"),r.a.createElement("span",null,r.a.createElement("i",{className:"award teal icon"}),"75 achievements"))))))}}])&&je(n.prototype,a),o&&je(n,o),i}(a.Component);function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function De(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(i,e);var t,n,a,o,c=(t=i,function(){var e,n=Ae(t);if($e()){var a=Ae(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return De(this,e)});function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),c.call(this,e)}return n=i,(a=[{key:"handleInit",value:function(){}},{key:"componentDidMount",value:function(){$("#transactiontypedd").dropdown(),$("#accountdd").dropdown(),$("#categorydd").dropdown()}},{key:"componentDidUpdate",value:function(){$("#transactiontypedd").dropdown(),$("#accountdd").dropdown(),$("#categorydd").dropdown()}},{key:"render",value:function(){return r.a.createElement(A,{id:"xmodal",onOpeningCallback:this.handleInit},r.a.createElement("form",{className:"ui small form"},r.a.createElement("h4",{className:"ui dividing header"},"Log transaction"),r.a.createElement("div",{class:"fields"},r.a.createElement("div",{className:"four wide field"},r.a.createElement("label",null,"Type"),r.a.createElement("div",{class:"ui selection dropdown",id:"transactiontypedd"},r.a.createElement("input",{type:"hidden",name:"transactiontype",value:"EXPENSE"}),r.a.createElement("div",{class:"default text"},"Select type"),r.a.createElement("i",{class:"dropdown icon"}),r.a.createElement("div",{class:"menu"},r.a.createElement("div",{class:"item","data-value":"INCOME"},r.a.createElement("i",{class:"hand holding usd icon"}),"Income"),r.a.createElement("div",{class:"item","data-value":"EXPENSE"},r.a.createElement("i",{class:"receipt icon"}),"Expense")))),r.a.createElement("div",{className:"eight wide field"},r.a.createElement("label",null,"Description"),r.a.createElement("input",{type:"text"})),r.a.createElement("div",{className:"four wide field"},r.a.createElement("label",null,"Amount"),r.a.createElement("input",{type:"number"}))),r.a.createElement("div",{class:"fields"},r.a.createElement("div",{className:"five wide field"},r.a.createElement("label",null,"Account"),r.a.createElement("div",{class:"ui selection dropdown",id:"accountdd"},r.a.createElement("input",{type:"hidden",name:"transactiontype",value:"General"}),r.a.createElement("div",{class:"default text"},"Select account"),r.a.createElement("i",{class:"dropdown icon"}),r.a.createElement("div",{class:"menu"},r.a.createElement("div",{class:"item","data-value":"General"},"General")))),r.a.createElement("div",{className:"six wide field"},r.a.createElement("label",null,"Date"),r.a.createElement("input",{type:"datetime-local"})),r.a.createElement("div",{className:"five wide field"},r.a.createElement("label",null,"Category"),r.a.createElement("div",{class:"ui selection dropdown",id:"categorydd"},r.a.createElement("input",{type:"hidden",name:"category",value:"Misc"}),r.a.createElement("div",{class:"default text"},"Select category"),r.a.createElement("i",{class:"dropdown icon"}),r.a.createElement("div",{class:"menu"},r.a.createElement("div",{class:"item","data-value":"Misc"},r.a.createElement("i",{class:"wallet icon"}),"Misc"),r.a.createElement("div",{class:"item","data-value":"Salary"},r.a.createElement("i",{class:"money bill alternate outline icon"}),"Salary"),r.a.createElement("div",{class:"item","data-value":"Debt"},r.a.createElement("i",{class:"coins icon"}),"Debt"),r.a.createElement("div",{class:"item","data-value":"Misc"},r.a.createElement("i",{class:"cash register icon"}),"Misc"),r.a.createElement("div",{class:"item","data-value":"Housing"},r.a.createElement("i",{class:"home icon"}),"Housing"),r.a.createElement("div",{class:"item","data-value":"Party/Restaurants"},r.a.createElement("i",{class:"glass martini alternate icon"}),"Party/Restaurants"),r.a.createElement("div",{class:"item","data-value":"Entertainment"},r.a.createElement("i",{class:"film icon"}),"Entertainment"),r.a.createElement("div",{class:"item","data-value":"Grocery"},r.a.createElement("i",{class:"shopping cart icon"}),"Grocery"),r.a.createElement("div",{class:"item","data-value":"Medical"},r.a.createElement("i",{class:"stethoscope icon"}),"Medical"),r.a.createElement("div",{class:"item","data-value":"Personal"},r.a.createElement("i",{class:"store icon"}),"Personal"),r.a.createElement("div",{class:"item","data-value":"Loans"},r.a.createElement("i",{class:"money bill alternate outline icon"}),"Loans")))))))}}])&&xe(n.prototype,a),o&&xe(n,o),i}(a.Component);function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ge(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ze(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(i,e);var t,n,a,o,c=(t=i,function(){var e,n=Le(t);if(ze()){var a=Le(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Ge(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=c.call(this,e)).state={expenseTransactions:[],incomeTransactions:[],balance:0,incomeTotal:0,expensesTotal:0,date:new Date},t}return n=i,(a=[{key:"handleGetTransactionData",value:function(){var e=this;$.ajax({type:"GET",url:"/api/v1/finance/balance?month="+(this.state.date.getMonth()+1)+"&year="+this.state.date.getFullYear(),headers:{Authorization:"Bearer "+e.props.token,Accept:"application/json"},success:function(t){e.setState({balance:t.balance,incomeTotal:t.incomeAmount,expensesTotal:t.expensesAmount,expenseTransactions:t.expenses,incomeTransactions:t.income})}})}},{key:"componentDidMount",value:function(){this.handleGetTransactionData()}},{key:"render",value:function(){return r.a.createElement("div",{class:"ui container"},r.a.createElement("div",{className:"ui segment"},r.a.createElement("h2",{className:"ui center aligned icon header"},r.a.createElement("i",{className:"circular chart line icon"}),r.a.createElement("div",{class:"content"},"Expenses report",r.a.createElement("span",{class:"sub header"},this.state.date.getMonth()+1,"/",this.state.date.getFullYear())))),r.a.createElement("div",{class:"ui stackable grid"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"ten wide column"}),r.a.createElement("div",{class:"six wide column"},r.a.createElement("div",{class:"ui green center aligned segment"},r.a.createElement("div",{class:"ui tiny statistic"},r.a.createElement("div",{class:"value"},r.a.createElement("i",{class:"wallet icon"})," ",this.state.balance),r.a.createElement("div",{class:"label"},"Balance MXN"))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"four wide column"},r.a.createElement("button",{class:"ui fluid button",onClick:function(){$("#xmodal").modal("show")}},r.a.createElement("i",{class:"plus icon"})," Log transaction")),r.a.createElement("div",{class:"twelve wide column"},r.a.createElement("table",{class:"ui striped compact table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:"3"},"Expenses"))),r.a.createElement("tbody",null,this.state.expenseTransactions.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",{class:"collapsing"},r.a.createElement("i",{class:"calendar alternate outline icon"}),formatDate(e.date)),r.a.createElement("td",null,r.a.createElement("i",{class:"receipt icon"}),e.description),r.a.createElement("td",{class:"right aligned collapsing"},e.amount," MXN"))}))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,r.a.createElement("b",null,r.a.createElement("i",{class:"receipt icon"})," Total")),r.a.createElement("th",{class:"right aligned collapsing"},this.state.expensesTotal," MXN")))),r.a.createElement("table",{class:"ui striped compact table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:"3"},"Income"))),r.a.createElement("tbody",null,this.state.incomeTransactions.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",{class:"collapsing"},r.a.createElement("i",{class:"calendar alternate outline icon"}),formatDate(e.date)),r.a.createElement("td",null,r.a.createElement("i",{class:"money bill alternate outline icon"}),e.description),r.a.createElement("td",{class:"right aligned collapsing"},e.amount," MXN"))}))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,r.a.createElement("b",null,r.a.createElement("i",{class:"donate icon"})," Total")),r.a.createElement("th",{class:"right aligned collapsing"},this.state.incomeTotal," MXN"))))))),r.a.createElement(Me,null))}}])&&Ue(n.prototype,a),o&&Ue(n,o),i}(a.Component);function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function qe(e,t){return!t||"object"!==Ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(l,e);var t,n,o,c,i=(t=l,function(){var e,n=Je(t);if(Xe()){var a=Je(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return qe(this,e)});function l(){return We(this,l),i.apply(this,arguments)}return n=l,(o=[{key:"componentDidMount",value:function(){$("#topmenudropdown").dropdown()}},{key:"componentDidUpdate",value:function(){$("#topmenudropdown").dropdown()}},{key:"render",value:function(){var e=this,t=r.a.createElement(a.Fragment,null),n=r.a.createElement(a.Fragment,null);return"anonymous"===e.props.user?t=r.a.createElement("div",{className:"ui item",onClick:function(){$("#authmodal").modal("show")}},r.a.createElement("i",{className:"sign in alternate icon"}),"Sign in"):(t=r.a.createElement("div",{className:"ui borderless item"},r.a.createElement("img",{className:"ui bordered avatar image",src:"https://avatars.dicebear.com/v2/jdenticon/".concat(this.props.avatar,".svg")}),r.a.createElement("span",null,this.props.user)),n=r.a.createElement("div",{className:"ui dropdown icon item",id:"topmenudropdown"},r.a.createElement("i",{className:"bars icon"}),r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"item",onClick:function(){$.cookie("layout","home"),e.props.parentStateCallback({layout:"home"})}},r.a.createElement("i",{className:"home icon"}),"Home"),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"item",onClick:function(){$.cookie("layout","profile"),e.props.parentStateCallback({layout:"profile"})}},r.a.createElement("i",{className:"id card outline icon"}),"Profile"),r.a.createElement("div",{className:"item",onClick:function(){$.cookie("layout","finance"),e.props.parentStateCallback({layout:"finance"})}},r.a.createElement("i",{className:"chart line icon"}),"Finance"),r.a.createElement("div",{className:"item",onClick:function(){$.cookie("layout","dashboard"),e.props.parentStateCallback({layout:"dashboard"})}},r.a.createElement("i",{className:"columns icon"}),"Dashboard"),r.a.createElement("div",{className:"item",onClick:function(){$.cookie("layout","codecamp"),e.props.parentStateCallback({layout:"codecamp"})}},r.a.createElement("i",{className:"campground icon"}),"Code camp"),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"item",onClick:this.props.signOut},r.a.createElement("i",{className:"sign out alternate icon"}),"Sign out")))),r.a.createElement("div",{className:"ui top attached menu"},r.a.createElement("div",{className:"ui item",onClick:function(){$.cookie("layout","home"),e.props.parentStateCallback({layout:"home"})}},r.a.createElement("h3",{className:"ui header"},"Wissen")),r.a.createElement("div",{className:"ui item",onClick:function(){$.cookie("layout","codecamp"),e.props.parentStateCallback({layout:"codecamp"})}},r.a.createElement("i",{className:"campground icon"}),r.a.createElement("span",{className:"mobile hidden"},"Code camp")),r.a.createElement("div",{className:"right menu"},t,n))}}])&&He(n.prototype,o),c&&He(n,c),l}(a.Component);function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function tt(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(i,e);var t,n,a,o,c=(t=i,function(){var e,n=at(t);if(nt()){var a=at(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return tt(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=c.call(this,e)).state={output:""},t}return n=i,(a=[{key:"time",value:function(e,t){e.setState({output:e.state.output+new Date+"\n"})}},{key:"clear",value:function(e,t){e.setState({output:""})}},{key:"access",value:function(e,t){console.log(t);var n=t.split(/\s+/);if(1===n.length);else{var a=n[1];console.log(a)}}},{key:"help",value:function(e,t){}},{key:"componentDidMount",value:function(){$(".prompt").html("[anonymous@wissen] # ")}},{key:"processCommand",value:function(e){var t=e.split(" ")[0],n={time:this.time,clear:this.clear,help:this.help,access:this.access};n[t]?n[t](this,e):this.setState({output:this.state.output+'command "'+t+'" not found\n'})}},{key:"handleUserInput",value:function(e){var t=e.target.value;"Enter"===e.key&&($("#inputxd").val(""),this.processCommand(t))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"ui container"},r.a.createElement("div",{className:"ui segment"},r.a.createElement("h2",{className:"ui center aligned icon header"},r.a.createElement("i",{className:"circular campground icon"}),r.a.createElement("div",{class:"content"},"Code camp"))),r.a.createElement("div",{className:"ui inverted segment"},r.a.createElement("output",null,r.a.createElement("pre",null,this.state.output)),r.a.createElement("div",{id:"input-line",className:"input-line"},r.a.createElement("div",{class:"prompt"}),r.a.createElement("div",null,r.a.createElement("input",{class:"cmdline",id:"inputxd",onKeyPress:function(t){return e.handleUserInput(t)}})))))}}])&&et(n.prototype,a),o&&et(n,o),i}(a.Component);function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function st(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ut(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(i,e);var t,n,a,o,c=(t=i,function(){var e,n=ft(t);if(ut()){var a=ft(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return st(this,e)});function i(){return it(this,i),c.apply(this,arguments)}return n=i,(a=[{key:"render",value:function(){return r.a.createElement("div",{class:"ui container"},r.a.createElement("div",{className:"ui stackable two column grid"},r.a.createElement("div",{className:"column"},r.a.createElement(ie,{authCallback:this.props.authCallback,user:this.props.user,token:this.props.token,avatar:this.props.avatar}))))}}])&&lt(n.prototype,a),o&&lt(n,o),i}(a.Component);function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ht(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function bt(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(i,e);var t,n,a,o,c=(t=i,function(){var e,n=gt(t);if(vt()){var a=gt(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return bt(this,e)});function i(){return yt(this,i),c.apply(this,arguments)}return n=i,(a=[{key:"render",value:function(){return r.a.createElement("div",{className:"ui icon ".concat(this.props.type," message")},r.a.createElement("i",{className:"".concat(this.props.icon," icon")}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},this.props.header),r.a.createElement("p",null,this.props.message)))}}])&&ht(n.prototype,a),o&&ht(n,o),i}(a.Component);function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ot(e,t){return!t||"object"!==wt(t)&&"function"!=typeof t?jt(e):t}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(i,e);var t,n,a,o,c=(t=i,function(){var e,n=Pt(t);if(_t()){var a=Pt(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Ot(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=c.call(this,e)).state={user:"",password:""},t.handleUserInput=t.handleUserInput.bind(jt(t)),t.handleSubmit=t.handleSubmit.bind(jt(t)),t.handleClearState=t.handleClearState.bind(jt(t)),t}return n=i,(a=[{key:"handleClearState",value:function(){this.setState({user:"",password:""}),$("#authdisplayerrors").empty(),$("#authform").form("clear"),$("[name='loginerror']").val("value")}},{key:"handleUserInput",value:function(e){var t=e.target.name,n=e.target.value;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this;$("#authform").form("is valid")&&$.ajax({type:"POST",url:"/oauth/token",headers:{Authorization:"Basic bWFzdGVyOjEyMzQ1Ng==",Accept:"application/json"},contentType:"application/x-www-form-urlencoded",data:{password:t.state.password,username:t.state.user,grant_type:"password"},error:function(e){$('[name="loginerror"]').val(""),$("#authform").form("validate form"),$('[name="loginerror"]').val("value")},success:function(e){$.cookie("authtoken",e.access_token),$.cookie("authuser",t.state.user),$("#authmodal").modal("hide");var n=e;$.ajax({type:"GET",url:"/api/v1/accounts/"+t.state.user,headers:{Authorization:"Bearer "+e.access_token,Accept:"application/json"},success:function(e){$("body").toast({title:"Welcome back ",message:t.state.user,class:"",showIcon:"door open",className:{toast:"ui message"}}),$.cookie("avatar",e.avatarSeed),t.props.parentStateCallback({user:t.state.user,token:n.access_token,avatar:e.avatarSeed})}})}})}},{key:"componentDidMount",value:function(){$("#authform").form({fields:{user:{identifier:"user",rules:[{type:"empty",prompt:"Username cannot be empty"}]},loginError:{identifier:"loginerror",rules:[{type:"empty",prompt:"User/Password do not match"}]}},onSuccess:function(e,t){e.preventDefault()},keyboardShortcuts:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement(A,{id:"authmodal",onOpeningCallback:this.handleClearState},r.a.createElement(kt,{icon:"id badge",header:"Hi! Stranger",message:"Welcome to wissen, please provide your credentials or register to use the system"}),r.a.createElement("form",{className:"ui form",onSubmit:this.handleSubmit,id:"authform"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"user"},"Username"),r.a.createElement("input",{type:"text",value:this.state.user,onChange:function(t){return e.handleUserInput(t)},name:"user"})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",value:this.state.password,onChange:function(t){return e.handleUserInput(t)},name:"password"})),r.a.createElement("div",{className:"field"},r.a.createElement("input",{type:"text",name:"loginerror",style:{display:"none"}})),r.a.createElement("div",{className:"ui error message",id:"authdisplayerrors"}),r.a.createElement("div",{className:"ui two buttons"},r.a.createElement("button",{className:"ui button",type:"submit"},"Login"),r.a.createElement("div",{className:"or"}),r.a.createElement("button",{className:"ui button",type:"button",onClick:function(){$("#regmodal").modal("show")}},"Register"))))}}])&&St(n.prototype,a),o&&St(n,o),i}(a.Component);function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function xt(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?Dt(e):t}function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(i,e);var t,n,a,o,c=(t=i,function(){var e,n=At(t);if($t()){var a=At(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return xt(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=c.call(this,e)).state={user:"",email:"",avatar:md5(Math.random().toString()),password:"",confirmpassword:""},t.handleUserInput=t.handleUserInput.bind(Dt(t)),t.handleSubmit=t.handleSubmit.bind(Dt(t)),t.handleSwitchAvatarImage=t.handleSwitchAvatarImage.bind(Dt(t)),t.handleClearState=t.handleClearState.bind(Dt(t)),t}return n=i,(a=[{key:"handleClearState",value:function(){$("#regdisplayerrors").empty(),$("#regform").form("clear"),this.setState({user:"",email:"",avatar:md5(Math.random().toString()),password:"",confirmpassword:""})}},{key:"componentDidMount",value:function(){$("#regform").form({fields:{user:{identifier:"user",rules:[{type:"empty",prompt:"Username cannot be empty"},{type:"maxLength[25]",prompt:"Username cannot be larger than 25 characters"}]},email:{identifier:"email",rules:[{type:"email",prompt:"Please provide a valid email address"}]},password:{identifier:"password",rules:[{type:"empty",prompt:"Password cannot be empty"},{type:"minLength[8]",prompt:"Password should be at least 8 characters long"}]},confirmPassword:{identifier:"confirmpassword",rules:[{type:"match[password]",prompt:"Passwords do not match"}]}},onSuccess:function(e,t){e.preventDefault()},keyboardShortcuts:!1})}},{key:"handleSwitchAvatarImage",value:function(){this.setState({avatar:md5(Math.random().toString())})}},{key:"handleUserInput",value:function(e){var t=e.target.name,n=e.target.value;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),$("#regform").form("is valid")&&$.ajax({type:"POST",url:"/api/v1/accounts",headers:{Accept:"application/json"},contentType:"application/json",data:JSON.stringify({password:this.state.password,nickname:this.state.user,email:this.state.email,avatarSeed:this.state.avatar}),error:function(e){},success:function(e){$("#regdisplayerrors").empty(),$("#regform").form("clear"),$("#regform").removeClass("error"),$("#regform").addClass("success"),setTimeout((function(){$("#regmodal").modal("hide")}),1500)}})}},{key:"render",value:function(){var e=this;return r.a.createElement(A,{id:"regmodal",onOpeningCallback:this.handleClearState},r.a.createElement("h4",{className:"ui dividing header"},"Register an account"),r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"four wide column"},r.a.createElement("img",{className:"ui bordered image",src:"https://avatars.dicebear.com/v2/jdenticon/".concat(this.state.avatar,".svg")}),r.a.createElement("br",null),r.a.createElement("button",{className:"fluid ui icon basic button",type:"button",onClick:this.handleSwitchAvatarImage},r.a.createElement("i",{className:"redo alternate icon"})," Switch avatar image")),r.a.createElement("div",{className:"twelve wide column"},r.a.createElement("form",{className:"ui small form",onSubmit:this.handleSubmit,id:"regform"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"user"},"Username"),r.a.createElement("input",{type:"text",maxLength:25,value:this.state.user,onChange:function(t){return e.handleUserInput(t)},name:"user"})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",value:this.state.email,onChange:function(t){return e.handleUserInput(t)},name:"email"})),r.a.createElement("div",{className:"two fields"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",value:this.state.password,onChange:function(t){return e.handleUserInput(t)},name:"password"})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{htmlFor:"confirmpassword"},"Confirm password"),r.a.createElement("input",{type:"password",value:this.state.confirmpassword,onChange:function(t){return e.handleUserInput(t)},name:"confirmpassword"}))),r.a.createElement("div",{className:"ui success message"},r.a.createElement("div",{className:"header"},"Account created"),r.a.createElement("p",null,"Please log in using your user and password")),r.a.createElement("div",{className:"ui error message",id:"regdisplayerrors"}),r.a.createElement("button",{className:"ui blue fluid button",type:"submit"},"Register")))))}}])&&Tt(n.prototype,a),o&&Tt(n,o),i}(a.Component);function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Gt(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?zt(e):t}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(l,e);var t,n,o,c,i=(t=l,function(){var e,n=Vt(t);if(Lt()){var a=Vt(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Gt(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t=i.call(this,e),void 0===$.cookie("layout")&&$.cookie("layout","home"),void 0===$.cookie("authuser")&&($.cookie("authuser","anonymous"),$.cookie("avatar",md5(Math.random().toString()))),t.state={layout:$.cookie("layout"),user:$.cookie("authuser"),avatar:$.cookie("avatar"),token:$.cookie("authtoken")},t.handleStateChange=t.handleStateChange.bind(zt(t)),t.handleAuthValidation=t.handleAuthValidation.bind(zt(t)),t.handleRevokeToken=t.handleRevokeToken.bind(zt(t)),t}return n=l,(o=[{key:"componentDidMount",value:function(){this.handleAuthValidation((function(){}),(function(){}))}},{key:"handleRevokeToken",value:function(){var e=this;fetch("/oauth/token?token="+e.state.token,{method:"delete",headers:{Authorization:"Basic bWFzdGVyOjEyMzQ1Ng==",Accept:"application/json"}}).then((function(t){200===t.status&&($.removeCookie("authtoken"),$.cookie("authuser","anonymous"),$.cookie("avatar",md5(Math.random().toString())),e.setState({user:"anonymous",avatar:$.cookie("avatar"),token:void 0,layout:"home"}))}))}},{key:"handleStateChange",value:function(e,t){this.setState(e,t)}},{key:"handleAuthValidation",value:function(e,t){var n=this;void 0!==this.state.token&&"anonymous"!==this.state.user?fetch("/oauth/check_token?token="+n.state.token,{method:"post",headers:{Authorization:"Basic bWFzdGVyOjEyMzQ1Ng==",Accept:"application/json"}}).then((function(a){if(200!==a.status)return $.removeCookie("authtoken"),$.cookie("authuser","anonymous"),$.cookie("avatar",md5(Math.random().toString())),void n.setState({user:"anonymous",avatar:$.cookie("avatar"),token:void 0},t());e()})):t()}},{key:"render",value:function(){var e=r.a.createElement(a.Fragment,null);return"home"===this.state.layout?e=r.a.createElement(we,{parentStateCallback:this.handleStateChange,authCallback:this.handleAuthValidation,user:this.state.user,token:this.state.token,avatar:this.state.avatar}):"profile"===this.state.layout?e=r.a.createElement(Re,{parentStateCallback:this.handleStateChange,authCallback:this.handleAuthValidation,user:this.state.user,token:this.state.token,avatar:this.state.avatar}):"finance"===this.state.layout?e=r.a.createElement(Be,{parentStateCallback:this.handleStateChange,authCallback:this.handleAuthValidation,user:this.state.user,token:this.state.token,avatar:this.state.avatar}):"codecamp"===this.state.layout?e=r.a.createElement(ot,{parentStateCallback:this.handleStateChange,authCallback:this.handleAuthValidation,user:this.state.user,token:this.state.token,avatar:this.state.avatar}):"dashboard"===this.state.layout&&(e=r.a.createElement(mt,{parentStateCallback:this.handleStateChange,authCallback:this.handleAuthValidation,user:this.state.user,token:this.state.token,avatar:this.state.avatar})),r.a.createElement(a.Fragment,null,r.a.createElement(Qe,{user:this.state.user,avatar:this.state.avatar,parentStateCallback:this.handleStateChange,signOut:this.handleRevokeToken}),e,r.a.createElement(Ct,{parentStateCallback:this.handleStateChange}),r.a.createElement(Mt,null))}}])&&Ut(n.prototype,o),c&&Ut(n,c),l}(a.Component);ReactDOM.render(r.a.createElement(Kt,null),document.getElementById("root"));t.default=Kt}]);